---
layout: page
title: 开源项目
menu: open-source
---

<div class="repo-list container single-column bg-white">
    <div class="holder text-center">
        Loading...
    </div>
</div>
<div id="repo-template" class="hidden">
    <li class="block">
        <div class="block-content">
            <h3 class="block-title">
                <a href="[repo.url]">[repo.name]</a>
            </h3>
            <p class="repo-description">[repo.description]</p>
            <small class="repo-meta-wrap">
                <a class="icon" href="[repo.url]"><i class="ion-star"></i>[repo.stargazers_count]</a>
                <a class="icon" href="[repo.url]"><i class="ion-fork-repo"></i>[repo.forks_count]</a>
                <a class="icon" href="[repo.url]"><i class="ion-eye"></i>[repo.watchers_count]</a>
            </small>
        </div>
    </li>
</div>
<script src="assets/js/jquery-2.1.1.min.js"></script>
<script src="assets/js/underscore-min.js"></script>
<script>
    jQuery(document).ready(function(){
        var repoListWrap = $('.project-list');
            repoListWrap.html('<ul></ul>');
        $.get('https://api.github.com/users/overtrue/repos?type=owner', function(repos){
            repos = _.sortBy(repos, function(repo){
                return - (repo.stargazers_count + repo.forks_count + repo.watchers_count);
            });

            var repoList = repoListWrap.find('ul');
            console.log(repoList);

            repos.forEach(function(repo){
                if (repo.fork) {
                    return;
                };

                var repoTemplate = $('#repo-template').html();
                var item = repoTemplate.replace(/\[(.*?)\]/g, function(){
                    return eval(arguments[1]);
                });

                repoList.append(item);
            });
        });
    });
</script>